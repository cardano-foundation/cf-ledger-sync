(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[466],{9121:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/use-cases/WalletQueries/wallet07",function(){return l(5146)}])},5146:function(e,s,l){"use strict";l.r(s),l.d(s,{__toc:function(){return c}});var o=l(5893),r=l(2673),i=l(2169),n=l(2069);l(9488);var a=l(2643),t=l(2154);let c=[{depth:2,value:"7. Query Active Stake Pools",id:"7-query-active-stake-pools"},{depth:3,value:"Select Specific Columns",id:"select-specific-columns"},{depth:3,value:"Tables Involved",id:"tables-involved"},{depth:3,value:"Main Query (SELECT...FROM)",id:"main-query-selectfrom"},{depth:3,value:"LEFT JOIN with pool_offline_data",id:"left-join-with-pool_offline_data"},{depth:3,value:"LEFT JOIN with pool_update",id:"left-join-with-pool_update"},{depth:3,value:"Subquery (ltb)",id:"subquery-ltb"},{depth:3,value:"LEFT JOIN with Subquery (ltb)",id:"left-join-with-subquery-ltb"},{depth:3,value:"Summary",id:"summary"},{depth:3,value:"7.2 List Active Stake Pools",id:"72-list-active-stake-pools"}];function h(e){let s=Object.assign({h2:"h2",p:"p",a:"a",pre:"pre",code:"code",span:"span",details:"details",summary:"summary",h3:"h3",ul:"ul",li:"li"},(0,a.a)(),e.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.h2,{id:"7-query-active-stake-pools",children:"7. Query Active Stake Pools"}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.a,{href:"https://cardano.org/stake-pool-delegation/",children:"Staking"})," is a big part of the Cardano ecosystem. To get started, the first step is to identify the active stake pools. Our next SQL query retrieves information about Cardano staking pools, focusing on the pool's ID, name, pool hash, ticker symbols, number of lifetime blocks and creation date. \uD83D\uDD0E Let's take a look at the query which gathers information about these Pools:"]}),"\n",(0,o.jsx)(s.pre,{"data-language":"sql","data-theme":"default",children:(0,o.jsxs)(s.code,{"data-language":"sql","data-theme":"default",children:[(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id,"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    po.pool_name "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_name,"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    po.ticker_name "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_ticker,"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    pu.margin "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" margin,"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    ltb.lifetime_blocks "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" lifetime_blocks"})]}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"})}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    pool_hash ph"})}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LEFT JOIN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_offline_data po "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    ph.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" po.pool_id"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AND"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (po.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"IS"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"NULL"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"OR"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" po.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"MAX"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(po2.id)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_offline_data po2"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"WHERE"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" po2.pool_id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id))"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LEFT JOIN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_update pu "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    ph.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pu.hash_id"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AND"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pu.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"MAX"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(pu2.id)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                 "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_update pu2"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                 "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"WHERE"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pu2.hash_id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LEFT JOIN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" poolId, "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"COUNT"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(bk.id) "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" lifetime_blocks"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_hash ph"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"JOIN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" slot_leader sl "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" sl.pool_hash_id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"JOIN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"block"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" bk "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" bk.slot_leader_id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" sl.id"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"GROUP BY"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ltb "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ltb.poolId "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id;"})]})]})}),"\n",(0,o.jsxs)(s.details,{children:[(0,o.jsx)(s.summary,{children:(0,o.jsx)(s.p,{children:"Expected results format"})}),(0,o.jsx)(s.pre,{"data-language":"sql","data-theme":"default",children:(0,o.jsxs)(s.code,{"data-language":"sql","data-theme":"default",children:[(0,o.jsx)(s.span,{className:"line",children:" "}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"     id   |      pool_name	      |  pool_ticker |      creation_date "})}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"----------+---------------------------+--------------+-------------------------- "})}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"     "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    |      ANGEL stake "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"pool"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"     |     ANGEL    |  "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2022"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"20"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"21"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"21"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"59"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"000"})]}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"     .    |      ................     |     .....    |  ................."})}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"           "})}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(Note: full results trimmed "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" readability)"})]})]})})]}),"\n",(0,o.jsx)(s.p,{children:"\uD83D\uDD0E Here's a breakdown of what the query does:"}),"\n",(0,o.jsxs)(t.Rg,{children:[(0,o.jsx)(s.h3,{id:"select-specific-columns",children:"Select Specific Columns"}),(0,o.jsx)(s.p,{children:"In order to gather information about staking pools, the query focuses on:"}),(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Pool ID ",(0,o.jsx)(s.code,{children:"ph.id"}),", the unique identifier for each staking pool."]}),"\n",(0,o.jsxs)(s.li,{children:["Pool Name ",(0,o.jsx)(s.code,{children:"pool_name"}),", the human-readable name of the pool."]}),"\n",(0,o.jsxs)(s.li,{children:["Ticker ",(0,o.jsx)(s.code,{children:"pool_ticker"}),", an abbreviation of the pool."]}),"\n",(0,o.jsxs)(s.li,{children:["Margin ",(0,o.jsx)(s.code,{children:"margin"}),", the percentage of rewards the pool operator keeps as a fee."]}),"\n",(0,o.jsxs)(s.li,{children:["Lifetime Blocks ",(0,o.jsx)(s.code,{children:"lifetime_blocks"}),", the total number of blocks this pool has successfully minted throughout its existence."]}),"\n"]}),(0,o.jsx)(s.h3,{id:"tables-involved",children:"Tables Involved"}),(0,o.jsx)(s.p,{children:"The query traverses several tables (aliases are in brackets):"}),(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#pool_hash",children:"pool_hash"})," (ph) stores the unique hash identifiers for each pool."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#pool_offline_data",children:"pool_offline_data"})," (po) contains additional information about the pool, such as its name and ticker."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#pool_update",children:"pool_update"})," (pu) tracks updates to pool parameters, including the margin."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#slot_leader",children:"slot_leader"})," (sl) records which pool was the leader for each slot."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#block",children:"block"})," (bk) stores data about each block produced on the blockchain."]}),"\n"]}),(0,o.jsx)(s.h3,{id:"main-query-selectfrom",children:"Main Query (SELECT...FROM)"}),(0,o.jsxs)(s.p,{children:["The query selects the desired columns from the ",(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#pool_hash",children:"pool_hash"})," table."]}),(0,o.jsx)(s.h3,{id:"left-join-with-pool_offline_data",children:"LEFT JOIN with pool_offline_data"}),(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["This join adds information from the ",(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#pool_offline_data",children:"pool_offline_data"})," table."]}),"\n",(0,o.jsxs)(s.li,{children:["The ",(0,o.jsx)(s.code,{children:"ON"})," condition ensures it only joins the most recent entry for each pool (if any exist)."]}),"\n",(0,o.jsxs)(s.li,{children:["The ",(0,o.jsx)(s.code,{children:"OR po.id IS NULL"})," handles the case where a pool doesn't have any offline data."]}),"\n"]}),(0,o.jsx)(s.h3,{id:"left-join-with-pool_update",children:"LEFT JOIN with pool_update"}),(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["This join adds information from the ",(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#pool_update",children:"pool_update"})," table."]}),"\n",(0,o.jsxs)(s.li,{children:["The ",(0,o.jsx)(s.code,{children:"ON"})," condition ensures it only joins the most recent update for each pool (if any exist)."]}),"\n"]}),(0,o.jsx)(s.h3,{id:"subquery-ltb",children:"Subquery (ltb)"}),(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["This nested query calculates the ",(0,o.jsx)(s.code,{children:"lifetime_blocks"})," for each pool."]}),"\n",(0,o.jsxs)(s.li,{children:["It joins ",(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#pool_hash",children:"pool_hash"}),", ",(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#slot_leader",children:"slot_leader"}),", and ",(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#block",children:"block"})," tables to track which blocks were minted by each pool."]}),"\n",(0,o.jsxs)(s.li,{children:["It groups the results by ",(0,o.jsx)(s.code,{children:"pool_hash.id"})," and counts the number of blocks."]}),"\n"]}),(0,o.jsx)(s.h3,{id:"left-join-with-subquery-ltb",children:"LEFT JOIN with Subquery (ltb)"}),(0,o.jsxs)(s.p,{children:["The main query joins with the ",(0,o.jsx)(s.code,{children:"ltb"})," subquery to include the calculated ",(0,o.jsx)(s.code,{children:"lifetime_blocks"})," for each pool."]}),(0,o.jsx)(s.h3,{id:"summary",children:"Summary"}),(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["LEFT JOINs ensure that all pool hashes are included in the results, even if they don't have corresponding data in the ",(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#pool_offline_data",children:"pool_offline_data"})," or ",(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#pool_update",children:"pool_update"})," tables."]}),"\n",(0,o.jsxs)(s.li,{children:["The nested subquery is essential for calculating the ",(0,o.jsx)(s.code,{children:"lifetime_blocks"})," metric, which requires aggregating data across multiple tables."]}),"\n",(0,o.jsxs)(s.li,{children:["MAX(id) conditions in the ",(0,o.jsx)(s.code,{children:"ON"})," clauses are used to select only the most recent entries from the [",(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#pool_offline_data",children:"pool_offline_data"})," and ",(0,o.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#pool_update",children:"pool_update"})," tables for each pool."]}),"\n"]})]}),"\n",(0,o.jsx)(s.h3,{id:"72-list-active-stake-pools",children:"7.2 List Active Stake Pools"}),"\n",(0,o.jsxs)(s.p,{children:["In this addtional query, we include a ",(0,o.jsx)(s.code,{children:"WHERE"})," condition to remove the retired pools:"]}),"\n",(0,o.jsx)(s.pre,{"data-language":"sql","data-theme":"default",children:(0,o.jsxs)(s.code,{"data-language":"sql","data-theme":"default",children:[(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"select"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id ,"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"COALESCE"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(po.pool_name, ph."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"view"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_name,"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		po.ticker_name "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_ticker,"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		b."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"time"'}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" creation_date,"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"ROW_NUMBER"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"() "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"OVER"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ORDER BY"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ASC"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"})]}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		pool_hash ph"})}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LEFT JOIN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_offline_data po "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"on"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		ph.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" po.pool_id"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"and"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (po.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"is"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"null"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"or"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" po.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"max"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(po2.id)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"						"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_offline_data po2"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"						"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"WHERE"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" po2.pool_id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id))"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LEFT JOIN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_update pu "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"on"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		ph.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pu.hash_id"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"and"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pu.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"min"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(pu2.id)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"						"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_update pu2"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"						"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"WHERE"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pu2.hash_id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id)"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LEFT JOIN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pu.registered_tx_id "})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LEFT JOIN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"block"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx.block_id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b.id "})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"WHERE"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"NOT"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"IN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pr.hash_id"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"				"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_retire pr"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LEFT JOIN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_update pu "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"on"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	pr.hash_id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pu.hash_id"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LEFT JOIN"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pool_hash ph "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ph.id "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pr.hash_id"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"GROUP BY"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" pr.hash_id, pu.cert_index, pr.cert_index"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			        "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"HAVING"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"max"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(pu.registered_tx_id) "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"max"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(pr.announced_tx_id))"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"				"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"OR"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"max"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(pu.registered_tx_id) "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"max"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(pr.announced_tx_id)) "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AND"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"max"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(pu.cert_index) "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"max"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(pr.cert_index)))"})]}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"				    	)"})})]})}),"\n",(0,o.jsxs)(s.details,{children:[(0,o.jsx)(s.summary,{children:(0,o.jsx)(s.p,{children:"Expected results format"})}),(0,o.jsx)(s.pre,{"data-language":"sql","data-theme":"default",children:(0,o.jsxs)(s.code,{"data-language":"sql","data-theme":"default",children:[(0,o.jsx)(s.span,{className:"line",children:" "}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"     id   |      pool_name	      |  pool_ticker |      creation_date "})}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"----------+---------------------------+--------------+-------------------------- "})}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"     "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"5"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    |      CanadaStakes         |     CAN1     |  "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2022"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"20"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"21"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"30"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"58"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"000"})]}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"     "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"6"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    |      SION stake "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"pool"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      |     SION     |  "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2022"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"20"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"21"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"35"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"52"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"000"})]}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"     .    |      ................     |     .....    |  ................."})}),"\n",(0,o.jsx)(s.span,{className:"line",children:(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"           "})}),"\n",(0,o.jsxs)(s.span,{className:"line",children:[(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(Note: full results trimmed "}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,o.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" readability)"})]})]})})]}),"\n",(0,o.jsx)(s.p,{children:"The next query will provide users with detailed information about specific stake pools. This will help them make informed decisions when selecting a specific pool to delegate their ADA."})]})}let d={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,a.a)(),e.components);return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(h,{...e})}):h(e)},pageOpts:{filePath:"pages/use-cases/WalletQueries/wallet07.mdx",route:"/use-cases/WalletQueries/wallet07",timestamp:1726040384e3,pageMap:[{kind:"MdxPage",name:"about",route:"/about"},{kind:"Folder",name:"applications",route:"/applications",children:[{kind:"Meta",data:{ledger_sync_app:"Ledger Sync",streamer_app:"Ledger Sync Streamer"}},{kind:"MdxPage",name:"ledger_sync_app",route:"/applications/ledger_sync_app"},{kind:"MdxPage",name:"streamer_app",route:"/applications/streamer_app"}]},{kind:"MdxPage",name:"build_run",route:"/build_run"},{kind:"MdxPage",name:"design",route:"/design"},{kind:"MdxPage",name:"docker",route:"/docker"},{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"schema",route:"/schema"},{kind:"Folder",name:"use-cases",route:"/use-cases",children:[{kind:"Folder",name:"WalletQueries",route:"/use-cases/WalletQueries",children:[{kind:"Meta",data:{wallet01:"Find the ADA balance of a wallet",wallet02:"List a balance's UTXOs",wallet03:"Review wallet transaction history",wallet04:"List all tokens in a wallet",wallet05:"Query collection details",wallet06:"Query Token metadata",wallet07:"Query Active Stake Pools",wallet08:"Query Stake Pool details",wallet09:"Stake pool lifetime blocks",wallet10:"List current dReps",wallet11:"Find Active Governance Proposals",wallet12:"Smart contract transaction data"}},{kind:"MdxPage",name:"wallet01",route:"/use-cases/WalletQueries/wallet01"},{kind:"MdxPage",name:"wallet02",route:"/use-cases/WalletQueries/wallet02"},{kind:"MdxPage",name:"wallet03",route:"/use-cases/WalletQueries/wallet03"},{kind:"MdxPage",name:"wallet04",route:"/use-cases/WalletQueries/wallet04"},{kind:"MdxPage",name:"wallet05",route:"/use-cases/WalletQueries/wallet05"},{kind:"MdxPage",name:"wallet06",route:"/use-cases/WalletQueries/wallet06"},{kind:"MdxPage",name:"wallet07",route:"/use-cases/WalletQueries/wallet07"},{kind:"MdxPage",name:"wallet08",route:"/use-cases/WalletQueries/wallet08"},{kind:"MdxPage",name:"wallet09",route:"/use-cases/WalletQueries/wallet09"},{kind:"MdxPage",name:"wallet10",route:"/use-cases/WalletQueries/wallet10"},{kind:"MdxPage",name:"wallet11",route:"/use-cases/WalletQueries/wallet11"},{kind:"MdxPage",name:"wallet12",route:"/use-cases/WalletQueries/wallet12"}]},{kind:"MdxPage",name:"WalletQueries",route:"/use-cases/WalletQueries"},{kind:"Meta",data:{WalletQueries:"Wallet queries",nftqueries:"NFT marketplace"}},{kind:"Folder",name:"nftqueries",route:"/use-cases/nftqueries",children:[{kind:"Meta",data:{nft1:"View Collections",nft2:"View NFT collection details",nft3:"View all assets",nft4:"Minting an NFT",nft5:"Selling an NFT",nft6:"Buying an NFT"}},{kind:"MdxPage",name:"nft1",route:"/use-cases/nftqueries/nft1"},{kind:"MdxPage",name:"nft2",route:"/use-cases/nftqueries/nft2"},{kind:"MdxPage",name:"nft3",route:"/use-cases/nftqueries/nft3"},{kind:"MdxPage",name:"nft4",route:"/use-cases/nftqueries/nft4"},{kind:"MdxPage",name:"nft5",route:"/use-cases/nftqueries/nft5"},{kind:"MdxPage",name:"nft6",route:"/use-cases/nftqueries/nft6"}]},{kind:"MdxPage",name:"nftqueries",route:"/use-cases/nftqueries"}]},{kind:"MdxPage",name:"use-cases",route:"/use-cases"},{kind:"Meta",data:{about:"About",build_run:"Build Run",design:"Design",docker:"Docker",index:"Index",schema:"Schema","use-cases":"Use Cases"}}],flexsearch:{codeblocks:!0},title:"Wallet07",headings:c},pageNextRoute:"/use-cases/WalletQueries/wallet07",nextraLayout:i.ZP,themeConfig:n.Z};s.default=(0,r.j)(d)},2069:function(e,s,l){"use strict";var o=l(5893);l(7294);let r={logo:(0,o.jsx)("span",{children:(0,o.jsx)("b",{children:"Ledger Sync"})}),project:{link:"https://github.com/cardano-foundation/cf-ledger-sync"},chat:{link:"https://discord.gg/jw3yeYJw"},docsRepositoryBase:"https://github.com/cardano-foundation/cf-ledger-sync",footer:{text:"Ledger Sync project"},useNextSeoProps:()=>({titleTemplate:"%s â€“ Ledger Sync"}),head:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"description",content:"Ledger Sync is a Java-based application designed to provide efficient access to Cardano blockchain data"}),(0,o.jsx)("meta",{property:"og:title",content:"Ledger Sync is a Java-based application designed to provide efficient access to Cardano blockchain data"}),(0,o.jsx)("meta",{property:"og:description",content:"Ledger Sync is a Java-based application designed to provide efficient access to Cardano blockchain data"})]})};s.Z=r},5789:function(){}},function(e){e.O(0,[942,888,774,179],function(){return e(e.s=9121)}),_N_E=e.O()}]);