(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{3819:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/use-cases/nftqueries/nft2",function(){return n(319)}])},319:function(e,s,n){"use strict";n.r(s),n.d(s,{__toc:function(){return c},default:function(){return x}});var t=n(5893),l=n(2673),i=n(2169),r=n(2069);n(9488);var o=n(2643),a={src:"/cf-ledger-sync//_next/static/media/spacebudz.7469e950.png",height:323,width:311,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAx0lEQVR42mP4Dwa3bt9YvWHJ8jXzr924DBFhAOJtuzYJ2zAYuZsl5WepODGs3bgCJHHtxhVJewb7QOfmbO/1Lf7p2QkMegznLpxmWL56obkfg5mTY3e1w67VvkUVCVruDHMWTmVYs2G5vheDi5eFpaN9TWNnQWmWsTfDwmWzGR49eWjsw2DpK+jt6VVf2uYZaSxhz3Dn7i2Q5ecvnvGONFUwYtCwYghLtjt+6gjI8k+fPgOp9x/enzl38tSZ42/evgZy//37BwC/oGv8zt+xWQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};n(2154);let c=[{depth:2,value:"2. Viewing NFT collection details",id:"2-viewing-nft-collection-details"},{depth:3,value:"2.1 Query the policy id",id:"21-query-the-policy-id"},{depth:3,value:"2.2 Asset details",id:"22-asset-details"},{depth:3,value:"2.3 Querying a specific NFT",id:"23-querying-a-specific-nft"}];function d(e){let s=Object.assign({h2:"h2",p:"p",em:"em",img:"img",h3:"h3",code:"code",ul:"ul",li:"li",pre:"pre",span:"span",details:"details",summary:"summary",a:"a",strong:"strong"},(0,o.a)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h2,{id:"2-viewing-nft-collection-details",children:"2. Viewing NFT collection details"}),"\n",(0,t.jsxs)(s.p,{children:["Now we will get more granular by quering for the data for a specif NFT collection. We'll search for details on ",(0,t.jsx)(s.em,{children:"Spacebudz"}),", which made history by being the very first NFT collection minted on Cardano in March 2021."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Spacebudz",placeholder:"blur",src:a})}),"\n",(0,t.jsx)(s.h3,{id:"21-query-the-policy-id",children:"2.1 Query the policy id"}),"\n",(0,t.jsx)(s.p,{children:"The policy ID is the unique identifier associated with a specific minting policy. The policy outlines the rules that govern the minting (and potentially the burning) of native assets on Cardano. Each minting policy has its own distinct policy ID, generated from the policy script itself. This ensures that tokens minted under different policies are easily distinguishable, even if they have the same name or other various attributes. Once a native asset is minted, it is inextricably linked to its corresponding policy ID. This connection is crucial for tracking the origin and legitimacy of tokens on Cardano."}),"\n",(0,t.jsxs)(s.p,{children:["So for this query, from the policy ID ",(0,t.jsx)(s.code,{children:"d5e6bf0500378d4f0da4e8dde6becec7621cd8cbf5cbb9b87013d4cc"}),", we will fetch:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"The total number of assets in the collection."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"The number of transactions involving assets from the collection within the last 24 hours."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{"data-language":"sql","data-theme":"default",children:(0,t.jsxs)(s.code,{"data-language":"sql","data-theme":"default",children:[(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		ma."}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"policy"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" collection_policy,"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"count"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" number_of_assets,"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		("}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"count"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"DISTINCT"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx.id) "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" transaction_count_24h"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"JOIN"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"block"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b.id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx.block_id "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"JOIN"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx_out to2 "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" to2.tx_id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx.id "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"JOIN"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ma_tx_out mto "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" to2.id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" mto.tx_out_id"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"JOIN"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" multi_asset ma "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" mto.ident "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ma.id"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"WHERE"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			ma.policy "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'d5e6bf0500378d4f0da4e8dde6becec7621cd8cbf5cbb9b87013d4cc'"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			    "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AND"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b."}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"time"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"now"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"() "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"at"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"time"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"zone"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'utc'"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" INTERVAL "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'24 hours'"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"			) "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" number_of_tx_in_24h"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		        multi_asset ma"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"WHERE"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		        ma.policy "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'d5e6bf0500378d4f0da4e8dde6becec7621cd8cbf5cbb9b87013d4cc'"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"GROUP BY"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ma."}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"policy"'})]})]})}),"\n",(0,t.jsxs)(s.details,{children:[(0,t.jsx)(s.summary,{children:(0,t.jsx)(s.p,{children:"Expected results format"})}),(0,t.jsx)(s.pre,{"data-language":"sql","data-theme":"default",children:(0,t.jsxs)(s.code,{"data-language":"sql","data-theme":"default",children:[(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"collection_policy                                        | number_of_assets | number_of_tx_in_24h"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"---------------------------------------------------------+------------------+----------------------"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"d5e6bf0500378d4f0da4e8dde6becec7621cd8cbf5cbb9b87013d4cc |    "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:","}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"000"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        | "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"75"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"             "})})]})})]}),"\n",(0,t.jsx)(s.p,{children:"\uD83D\uDD0E Let's take a closer look at each part of the query."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"FROM multi_asset ma"})," specifies that the query will be looking at the ",(0,t.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#multi_asset",children:"multi_asset"})," table, which stores information about assets on the Cardano blockchain.\n",(0,t.jsx)(s.code,{children:"WHERE ma.policy = '...'"})," This filters the results to only include assets that belong to the collection identified by the policy ID we provided.\n",(0,t.jsx)(s.code,{children:'GROUP BY ma."policy"'}),"  groups the results by the policy ID, ensuring that we get a single row summarizing the information for the entire collection."]}),"\n",(0,t.jsxs)(s.p,{children:["Within the ",(0,t.jsx)(s.code,{children:"SELECT"})," clause, ",(0,t.jsx)(s.code,{children:'ma."policy" AS collection_policy'})," selects the policy ID of the collection and labels it as collection_policy. ",(0,t.jsx)(s.code,{children:"count(*) AS number_of_assets"}),"counts the number of rows (i.e., assets) in the filtered result set and labels it as ",(0,t.jsx)(s.code,{children:"number_of_assets"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["The subquery is used to calculate the number of transactions involving assets from this collection within the last 24 hours.\n",(0,t.jsx)(s.code,{children:"FROM tx JOIN block b ON b.id = tx.block_id JOIN tx_out to2 ON to2.tx_id = tx.id JOIN ma_tx_out mto ON to2.id = mto.tx_out_id JOIN multi_asset ma ON mto.ident = ma.id"})," joins several tables to link transactions (",(0,t.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#tx",children:"tx"}),"), blocks (",(0,t.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#block",children:"block"}),"), transaction outputs (",(0,t.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#tx_out",children:"tx_out"}),"), and multi-asset information (",(0,t.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#multi_asset",children:"multi_asset"}),") together."]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"WHERE ma.policy = '...' AND b.\"time\" > (now() at time zone 'utc') - INTERVAL '1 days'"})," clause filters the results to only include transactions involving assets from the specified collection that occurred within the last 24 hours.\n",(0,t.jsx)(s.code,{children:"SELECT count(DISTINCT tx.id) AS transaction_count_24h"})," counts the number of distinct transaction IDs in the filtered result set and labels it as ",(0,t.jsx)(s.code,{children:"transaction_count_24h"}),"."]}),"\n",(0,t.jsx)(s.h3,{id:"22-asset-details",children:"2.2 Asset details"}),"\n",(0,t.jsx)(s.p,{children:"This next query lists all assets/NFTs belonging to the Spacebudz collection with their respective:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"asset name"}),"\n",(0,t.jsx)(s.li,{children:"encoded name"}),"\n",(0,t.jsx)(s.li,{children:"Asset ID"}),"\n",(0,t.jsx)(s.li,{children:"minting (creation) date"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{"data-language":"sql","data-theme":"default",children:(0,t.jsxs)(s.code,{"data-language":"sql","data-theme":"default",children:[(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		ma.name_view "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" asset_name,"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		encode(ma.name, "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'hex'"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" encoded_name,"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		ma.fingerprint "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" Asset_ID,"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"		ma."}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"time"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" creation_date"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" multi_asset ma "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"WHERE"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ma."}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"policy"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'d5e6bf0500378d4f0da4e8dde6becec7621cd8cbf5cbb9b87013d4cc'"})]})]})}),"\n",(0,t.jsxs)(s.details,{children:[(0,t.jsx)(s.summary,{children:(0,t.jsx)(s.p,{children:"Expected results format"})}),(0,t.jsx)(s.pre,{"data-language":"sql","data-theme":"default",children:(0,t.jsxs)(s.code,{"data-language":"sql","data-theme":"default",children:[(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"asset_name   |  encoded_name             |  asset_id                                     | creation_date"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"-------------+---------------------------+-----------------------------------------------+-------------------------"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"SpaceBud9007 | 	"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"537061636542756439303037"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" | asset1qqcka5xwrzx40t7gaf2l4qd0k8latxqpkpq28h  | "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2021"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"03"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"24"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"01"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"18"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"000"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"SpaceBud5511 | 	"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"537061636542756435353131"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" | asset1x0pkcc6vf2v5ezhhj4hd9mls3pwwufvxy66rwp  | "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2021"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"03"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"24"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"01"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"22"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"000"})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ....       | 	....                     | 	......                                   | 	..."})}),"\n",(0,t.jsx)(s.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(Note: results trimmed "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" readability)             "})]})]})})]}),"\n",(0,t.jsx)(s.p,{children:"\uD83D\uDD0E Let's take a closer look at each part of the query."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"FROM multi_asset ma"})," indicates that the query is targeting the ",(0,t.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#multi_asset",children:"multi_asset"})," table, which stores information about assets (including NFTs) on Cardano. ",(0,t.jsx)(s.code,{children:"WHERE ma.\"policy\" = 'd5e6bf0500378d4f0da4e8dde6becec7621cd8cbf5cbb9b87013d4cc'"})," filters the results to only include assets that belong to the specific collection (Policy ID) we are interested in."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"SELECT: ma.name_view AS asset_name"})," retrieves the human-readable name of the asset and labels it as ",(0,t.jsx)(s.code,{children:"asset_name"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"encode(ma.name, 'hex') AS encoded_name"})," takes the raw asset name data ",(0,t.jsx)(s.code,{children:"ma.name"}),", encodes it into a hexadecimal string representation, and labels it as ",(0,t.jsx)(s.code,{children:"encoded_name"}),". ",(0,t.jsx)(s.code,{children:"ma.fingerprint AS Asset_ID"})," selects the unique fingerprint (identifier) of the asset and labels it as ",(0,t.jsx)(s.code,{children:"Asset_ID"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:'ma."time" AS creation_date'})," retrieves the timestamp when the asset was created and labels it as ",(0,t.jsx)(s.code,{children:"creation_date"}),"."]}),"\n",(0,t.jsx)(s.h3,{id:"23-querying-a-specific-nft",children:"2.3 Querying a specific NFT"}),"\n",(0,t.jsx)(s.p,{children:"Our last query fetches the following data about a specific NFT:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"asset name"}),"\n",(0,t.jsx)(s.li,{children:"encoded name"}),"\n",(0,t.jsx)(s.li,{children:"asset metadata"}),"\n",(0,t.jsx)(s.li,{children:"owner (wallet address)"}),"\n",(0,t.jsx)(s.li,{children:"mint date"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{"data-language":"sql","data-theme":"default",children:(0,t.jsxs)(s.code,{"data-language":"sql","data-theme":"default",children:[(0,t.jsx)(s.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	ma.name_view "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" asset_name,"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	encode(ma.name, "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'hex'"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" encoded_name,"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	("}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"SELECT"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tm.json "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"               "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"JOIN"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ma_tx_mint mtm "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" mtm.tx_id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx.id "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"               "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"JOIN"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx_metadata tm "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tm.tx_id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx.id"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"               "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"JOIN"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" multi_asset ma "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ma.id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" mtm.ident"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"               "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"WHERE"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ma.fingerprint "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'asset14y0ky8jeh009wcmyxcfnfakpgkuq0jcr8d5nxr'"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"               		"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AND"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tm.key "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"721"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"               "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ORDER BY"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" mtm.id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"DESC"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LIMIT"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" asset_metatdata,"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    tx_out.address "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" owner_address,"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    ma."}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"time"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" mint_date"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"FROM"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    ma_tx_out mto"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"JOIN"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    multi_asset ma "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" mto.ident "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ma.id"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"JOIN"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    tx_out "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" mto.tx_out_id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx_out.id"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LEFT JOIN"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    tx_in ti "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ti.tx_out_id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx_out.tx_id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AND"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ti.tx_out_index "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx_out.INDEX"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"LEFT JOIN"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"	tx_metadata tm "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ON"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tm.tx_id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" tx_out.tx_id"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"WHERE"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    ma.fingerprint "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'asset14y0ky8jeh009wcmyxcfnfakpgkuq0jcr8d5nxr'"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"AND"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ti.tx_out_id "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"IS"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"NULL"})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,t.jsxs)(s.details,{children:[(0,t.jsx)(s.summary,{children:(0,t.jsx)(s.p,{children:"Expected results format"})}),(0,t.jsx)(s.pre,{"data-language":"sql","data-theme":"default",children:(0,t.jsxs)(s.code,{"data-language":"sql","data-theme":"default",children:[(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"asset_name   |  encoded_name             |  asset_metadata                           | owner_address	 										  | mint_date	"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"-------------+---------------------------+-------------------------------------------+------------------------------------------------------------+------------------------"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"SpaceBud964  | 	"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"5370616365427564393634"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"   | 	{"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"d5e6bf0500378d4f0da4e8dde6be.....  "'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}  | addr1wyxzp0hufcllp5emldfrtcvlev4uj2g6huqq9wfhn7efw5q3zdavq | "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2021"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"03"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"24"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"01"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"18"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"08"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"000"})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:" "}),"\n",(0,t.jsx)(s.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(Note: results trimmed "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" readability)             "})]})]})})]}),"\n",(0,t.jsx)(s.p,{children:"\uD83D\uDD0E Let's take a closer look at each part of the query."}),"\n",(0,t.jsx)(s.p,{children:"The results returned include:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Asset Name"}),", ie. the human-readable name of the asset ",(0,t.jsx)(s.code,{children:"ma.name_view"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Encoded Name"}),"... a hexadecimal representation of the asset's name ",(0,t.jsx)(s.code,{children:"encode(ma.name, 'hex')"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Metadata"})," associated with the asset, specifically looking for key ",(0,t.jsx)(s.code,{children:"721"})," which is often used for NFT metadata ",(0,t.jsx)(s.code,{children:"tm.json"}),". It selects the most recent metadata entry."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Owner Address"}),", the current address holding this asset ",(0,t.jsx)(s.code,{children:"tx_out.address"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Mint Date"}),", ie. the date and time when the asset was created ",(0,t.jsx)(s.code,{children:'ma."time"'}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"FROM ma_tx_out mto"})," starts by looking at the ",(0,t.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#multi_asset",children:"multi_asset"})," table, which tracks the association between native assets (tokens/NFTs) and transaction outputs."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"JOIN multi_asset ma ON mto.ident = ma.id"})," joins with the ",(0,t.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#multi_asset",children:"multi_asset"})," table to get details about the asset itself, like its name and creation time."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"JOIN tx_out ON mto.tx_out_id = tx_out.id"})," joins with the ",(0,t.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#tx_out",children:"tx_out"})," table to get information about the transaction output where this asset currently resides, including the owner's address."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"LEFT JOIN tx_in ti ON ..."})," attempts to join with the ",(0,t.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#tx_in",children:"tx_in"})," table to find any transaction inputs that spend this specific transaction output.\n",(0,t.jsx)(s.code,{children:"LEFT JOIN tx_metadata tm ON tm.tx_id = tx_out.tx_id"})," optionally joins with the ",(0,t.jsx)(s.a,{href:"https://github.com/cardano-foundation/cf-ledger-sync/blob/main/docs/pages/schema.md#tx_metadata",children:"tx_metadata"})," table to fetch any metadata associated with the transaction that created the output holding the asset."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"WHERE ma.fingerprint = '...' AND ti.tx_out_id IS NULL"})," filters results to only include the asset with the specified fingerprint. The ",(0,t.jsx)(s.code,{children:"ti.tx_out_id IS NULL"})," condition ensures that we only select the transaction output where the asset currently resides (i.e. it hasn't been spent in another transaction)."]}),"\n",(0,t.jsxs)(s.p,{children:["The subquery within the ",(0,t.jsx)(s.code,{children:"SELECT"})," clause fetches the metadata associated with the asset's minting transaction"]})]})}let h={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,o.a)(),e.components);return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)},pageOpts:{filePath:"pages/use-cases/nftqueries/nft2.mdx",route:"/use-cases/nftqueries/nft2",timestamp:1726129223e3,pageMap:[{kind:"Meta",data:{index:"Overview",design:"Design",docker:"Run with Docker Compose",schema:"Schema",build_run:"Build & Run",applications:{title:"Applications"},"use-cases":{title:"Use Cases"},about:{title:"About",type:"page"}}},{kind:"MdxPage",name:"about",route:"/about"},{kind:"Folder",name:"applications",route:"/applications",children:[{kind:"Meta",data:{ledger_sync_app:"Ledger Sync",streamer_app:"Ledger Sync Streamer"}},{kind:"MdxPage",name:"ledger_sync_app",route:"/applications/ledger_sync_app"},{kind:"MdxPage",name:"streamer_app",route:"/applications/streamer_app"}]},{kind:"MdxPage",name:"build_run",route:"/build_run"},{kind:"MdxPage",name:"design",route:"/design"},{kind:"MdxPage",name:"docker",route:"/docker"},{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"schema",route:"/schema"},{kind:"Folder",name:"use-cases",route:"/use-cases",children:[{kind:"Folder",name:"WalletQueries",route:"/use-cases/WalletQueries",children:[{kind:"Meta",data:{wallet01:"Find the ADA balance of a wallet",wallet02:"List a balance's UTXOs",wallet03:"Review wallet transaction history",wallet04:"List all tokens in a wallet",wallet05:"Query collection details",wallet06:"Query Token metadata",wallet07:"Query Active Stake Pools",wallet08:"Query Stake Pool details",wallet09:"Stake pool lifetime blocks",wallet10:"List current dReps",wallet11:"Find Active Governance Proposals",wallet12:"Smart contract transaction data"}},{kind:"MdxPage",name:"wallet01",route:"/use-cases/WalletQueries/wallet01"},{kind:"MdxPage",name:"wallet02",route:"/use-cases/WalletQueries/wallet02"},{kind:"MdxPage",name:"wallet03",route:"/use-cases/WalletQueries/wallet03"},{kind:"MdxPage",name:"wallet04",route:"/use-cases/WalletQueries/wallet04"},{kind:"MdxPage",name:"wallet05",route:"/use-cases/WalletQueries/wallet05"},{kind:"MdxPage",name:"wallet06",route:"/use-cases/WalletQueries/wallet06"},{kind:"MdxPage",name:"wallet07",route:"/use-cases/WalletQueries/wallet07"},{kind:"MdxPage",name:"wallet08",route:"/use-cases/WalletQueries/wallet08"},{kind:"MdxPage",name:"wallet09",route:"/use-cases/WalletQueries/wallet09"},{kind:"MdxPage",name:"wallet10",route:"/use-cases/WalletQueries/wallet10"},{kind:"MdxPage",name:"wallet11",route:"/use-cases/WalletQueries/wallet11"},{kind:"MdxPage",name:"wallet12",route:"/use-cases/WalletQueries/wallet12"}]},{kind:"MdxPage",name:"WalletQueries",route:"/use-cases/WalletQueries"},{kind:"Meta",data:{WalletQueries:"Wallet queries",nftqueries:"NFT marketplace"}},{kind:"Folder",name:"nftqueries",route:"/use-cases/nftqueries",children:[{kind:"Meta",data:{nft1:"View Collections",nft2:"View NFT collection details",nft3:"View all assets",nft4:"Minting an NFT",nft5:"Selling an NFT",nft6:"Buying an NFT"}},{kind:"MdxPage",name:"nft1",route:"/use-cases/nftqueries/nft1"},{kind:"MdxPage",name:"nft2",route:"/use-cases/nftqueries/nft2"},{kind:"MdxPage",name:"nft3",route:"/use-cases/nftqueries/nft3"},{kind:"MdxPage",name:"nft4",route:"/use-cases/nftqueries/nft4"},{kind:"MdxPage",name:"nft5",route:"/use-cases/nftqueries/nft5"},{kind:"MdxPage",name:"nft6",route:"/use-cases/nftqueries/nft6"}]},{kind:"MdxPage",name:"nftqueries",route:"/use-cases/nftqueries"}]},{kind:"MdxPage",name:"use-cases",route:"/use-cases"}],flexsearch:{codeblocks:!0},title:"Nft2",headings:c},pageNextRoute:"/use-cases/nftqueries/nft2",nextraLayout:i.ZP,themeConfig:r.Z};var x=(0,l.j)(h)},2069:function(e,s,n){"use strict";var t=n(5893);n(7294);let l={logo:(0,t.jsx)("span",{children:(0,t.jsx)("b",{children:"Ledger Sync"})}),project:{link:"https://github.com/cardano-foundation/cf-ledger-sync"},chat:{link:"https://discord.gg/jw3yeYJw"},docsRepositoryBase:"https://github.com/cardano-foundation/cf-ledger-sync",footer:{text:"Ledger Sync project"},useNextSeoProps:()=>({titleTemplate:"%s â€“ Ledger Sync"}),head:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("meta",{property:"description",content:"Ledger Sync is a Java-based application designed to provide efficient access to Cardano blockchain data"}),(0,t.jsx)("meta",{property:"og:title",content:"Ledger Sync is a Java-based application designed to provide efficient access to Cardano blockchain data"}),(0,t.jsx)("meta",{property:"og:description",content:"Ledger Sync is a Java-based application designed to provide efficient access to Cardano blockchain data"})]})};s.Z=l},5789:function(){}},function(e){e.O(0,[942,888,774,179],function(){return e(e.s=3819)}),_N_E=e.O()}]);